## Change Log

```
12.05.2025 — Удален нерелевантный код. Исправлены названия ячеек (после обновления названий в таблице).
25.01.2024 — Удалена интеграция с сервисом Heroku.
17.10.2023 — Канал @ChatWarsAuction перестал быть доступен для парсинга. Переход на Telethon. Скрипт `main.py` стал основным, `oldest.py` сохранен для истории.
28.11.2022 — Функция e-objects 1.2.0 перенесена в `functions.py`. Добавлена функция `start()` для серверного запуска.
```

## Парсер игровых Telegram-каналов

1. Парсит два канала:  
   - [ChatWarsAuction](https://t.me/ChatWarsAuction)  
   - [chatwars3](https://t.me/chatwars3)

2. Обрабатывает сообщения (немного):
   - Вытаскивает HTML-содержимое постов.
   - Меняет `<br/>` на `/`, а слеши и одинарные кавычки — на их HTML-аналоги.
   - Это нужно, чтобы избежать ошибок при записи в таблицу.

3. Сохраняет посты в Google Таблицы:
   - Отдельный лист для каждого сервера.
   - Все посты записываются вертикально, подряд.

4. **Ограничения и решение**:
   - После ~300,000 постов таблицы начали ломаться: появлялись ошибки `FORBIDDEN` и `INTERNAL`.
   - Причина — Google хранит каждую версию документа.
   - Решение:
     - Делить таблицы по 50,000 записей.
     - Временная таблица заполняется и копируется в основную, затем удаляется.
     - Цикл повторяется.

5. Оптимизации:
   - gspread оказался удобен для массовых операций.
   - Но не умеет работать с форматированием таблиц (версия 3.6.0).
   - Написан кастомный запрос через Google API (сохранен как `objects.properties_json`).
